//=============================================================================
//
// アイテムクラス処理 [item.cpp]
// Author : Konishi Yuuto
//
//=============================================================================

//=============================================================================
// インクルード
//=============================================================================
#include "item.h"
#include "renderer.h"
#include "manager.h"
#include "resource_manager.h"
#include "xfile.h"
#include "ui.h"
#include "game.h"


//*****************************************************************************
// コンストラクタ
// Author : AYANOKUDO
//*****************************************************************************
// プレイヤーの位置定数
const D3DXVECTOR3 CItem::m_position[MAX_PLAYER_NUM] = { ITEM_UI_POS_PLAYER_1,ITEM_UI_POS_PLAYER_2,ITEM_UI_POS_PLAYER_3,ITEM_UI_POS_PLAYER_4 };

//=============================================================================
// コンストラクタ
//=============================================================================
CItem::CItem(PRIORITY Priority) : CScene(Priority)
{
	m_pUi = NULL;
	m_nPlayerNumber = 0;
	m_bEnd = NULL;
	m_bUse = false;
}

//=============================================================================
// デストラクタ
//=============================================================================
CItem::~CItem()
{

}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CItem::Init(void)
{
	return S_OK;
}

//=============================================================================
// 終了処理
//=============================================================================
void CItem::Uninit(void)
{
	// !nullcheck
	if (m_pUi != nullptr)
	{
		m_pUi->Uninit();
		m_pUi = NULL;
	}

	// リリース
	Release();
}

//=============================================================================
// 更新処理
//=============================================================================
void CItem::Update(void)
{
	// 終了フラグ
	if (m_bEnd == true)
	{
		// 終了処理
		Uninit();
	}
}

//=============================================================================
// 描画処理
//=============================================================================
void CItem::Draw(void)
{

}

//=============================================================================
// UIの終了処理
//=============================================================================
void CItem::UiUninit()
{
	// !nullcheck
	if (m_pUi != nullptr)
	{
		// UIの終了処理
		m_pUi->Uninit();
		m_pUi = NULL;
	}
}

//=============================================================================
// [SetPosition] UIの位置を設定
// Author : AYANOKUDO
// 引数
// nPlayer : プレイヤーの番号
//=============================================================================
D3DXVECTOR3 CItem::SetPosition(int nPlayer)
{
    D3DXVECTOR3 pos;
    int nPlayerTotal = CGame::GetPlayerNum();

    //自分のプレイヤー番号とプレイヤーの総数を取得
    
    // プレイヤー番号を保存
    //m_nPlayerNum = nPlayerNum;
    pos = m_position[nPlayer];
    return pos;
}
